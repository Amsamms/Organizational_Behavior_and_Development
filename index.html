<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive Mind Map for EMBA Organizational Behavior and Development Course - Alexandria University">
    <title>OB Mind Map | EMBA Alexandria</title>

    <!-- D3.js for Mind Map -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>

            <div class="logo">
                <i class="fas fa-brain"></i>
                <span>OB Mind Map</span>
            </div>

            <div class="header-actions">
                <button class="icon-btn" id="searchToggle" aria-label="Search">
                    <i class="fas fa-search"></i>
                </button>
                <button class="icon-btn" id="viewToggle" aria-label="Toggle view">
                    <i class="fas fa-columns"></i>
                </button>
            </div>
        </div>

        <!-- Search Bar (Hidden by default) -->
        <div class="search-bar" id="searchBar">
            <input type="text" id="searchInput" placeholder="Search topics, theories...">
            <button class="icon-btn" id="closeSearch">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Course Map</h2>
            <button class="icon-btn" id="closeSidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="sidebar-content">
            <nav class="nav-tree" id="navTree">
                <!-- Populated by JavaScript -->
            </nav>
        </div>

        <div class="sidebar-footer">
            <p>Dr. Ghada Adel Atteya</p>
            <small>EMBA - Alexandria University</small>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
        <!-- Mind Map View -->
        <section class="mindmap-section" id="mindmapSection">
            <div class="mindmap-header">
                <div class="mindmap-title">
                    <h1>Organizational Behavior</h1>
                    <p>Interactive Course Mind Map</p>
                </div>

                <div class="mindmap-controls">
                    <div class="control-group">
                        <button class="control-btn" id="resetZoom" title="Fit to screen">
                            <i class="fas fa-compress-arrows-alt"></i>
                        </button>
                        <button class="control-btn" id="zoomIn" title="Zoom in">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="control-btn" id="zoomOut" title="Zoom out">
                            <i class="fas fa-minus"></i>
                        </button>
                    </div>
                    <button class="control-btn" id="exportMap" title="Export">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>

            <div class="mindmap-container" id="mindMap"></div>

            <!-- Mind Map Legend -->
            <div class="legend">
                <div class="legend-item">
                    <span class="legend-dot" style="background: #3498db;"></span>
                    <span>OB Field</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #2ecc71;"></span>
                    <span>Individual</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #e67e22;"></span>
                    <span>Group</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #9b59b6;"></span>
                    <span>Organization</span>
                </div>
            </div>

            <!-- Quick Guide (shows on first visit) -->
            <div class="quick-guide" id="quickGuide">
                <button class="close-guide" id="closeGuide">
                    <i class="fas fa-times"></i>
                </button>
                <h3>Quick Guide</h3>
                <ul>
                    <li><i class="fas fa-hand-pointer"></i> Click nodes to expand</li>
                    <li><i class="fas fa-arrows-alt"></i> Drag nodes to move</li>
                    <li><i class="fas fa-search-plus"></i> Scroll to zoom</li>
                    <li><i class="fas fa-bars"></i> Menu for navigation</li>
                </ul>
            </div>
        </section>

        <!-- Content Panel (Hidden by default) -->
        <section class="content-panel" id="contentPanel">
            <div class="content-header">
                <button class="icon-btn back-btn" id="backToMap">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 id="contentTitle">Content</h2>
                <div class="content-actions">
                    <button class="icon-btn" id="bookmarkBtn">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <button class="icon-btn" id="shareBtn">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            </div>
            <div class="content-body" id="contentBody">
                <!-- Content loaded dynamically -->
            </div>
        </section>
    </main>

    <!-- Search Results Modal -->
    <div class="modal" id="searchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Search Results</h3>
                <button class="icon-btn" id="closeSearchModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="searchResults">
                <!-- Results populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="spinner" id="spinner">
        <div class="spinner-circle"></div>
    </div>

    <!-- Scripts -->
    <script src="js/content-data.js"></script>
    <script src="js/mindmap.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/search.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
